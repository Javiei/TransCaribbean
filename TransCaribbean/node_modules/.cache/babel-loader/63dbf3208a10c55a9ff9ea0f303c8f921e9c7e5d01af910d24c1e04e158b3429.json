{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChartPie=_ref=>{let{data=[],title='Top Clientes',colors=['#8B0000','#4B5563','#6B7280','#9CA3AF','#D1D5DB']}=_ref;const total=data.reduce((sum,item)=>sum+item.sales,0);let cumulativePercentage=0;const segments=data.map((item,index)=>{const percentage=item.sales/total*100;const startAngle=cumulativePercentage;cumulativePercentage+=percentage;const endAngle=cumulativePercentage;const largeArcFlag=percentage>50?1:0;const x1=50+50*Math.cos(2*Math.PI*startAngle/100);const y1=50+50*Math.sin(2*Math.PI*startAngle/100);const x2=50+50*Math.cos(2*Math.PI*endAngle/100);const y2=50+50*Math.sin(2*Math.PI*endAngle/100);return{path:`M 50 50 L ${x1} ${y1} A 50 50 0 ${largeArcFlag} 1 ${x2} ${y2} Z`,color:colors[index%colors.length],label:`${item.name||item.route} ($${item.sales})`,percentage:percentage.toFixed(1)};});return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-800 mb-4\",children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 100 100\",className:\"w-48 h-48\",children:segments.map((segment,index)=>/*#__PURE__*/_jsx(\"path\",{d:segment.path,fill:segment.color,title:segment.label},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 space-y-2\",children:segments.map((segment,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-3 h-3 rounded-full mr-2\",style:{backgroundColor:segment.color}}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-700\",children:[segment.label,\" (\",segment.percentage,\"%)\"]})]},index))})]})]});};export default ChartPie;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","ChartPie","_ref","data","title","colors","total","reduce","sum","item","sales","cumulativePercentage","segments","map","index","percentage","startAngle","endAngle","largeArcFlag","x1","Math","cos","PI","y1","sin","x2","y2","path","color","length","label","name","route","toFixed","className","children","viewBox","segment","d","fill","style","backgroundColor"],"sources":["/root/TransCaribbean/TransCaribbean/src/components/ChartPie.js"],"sourcesContent":["import React from 'react';\n\nconst ChartPie = ({ data = [], title = 'Top Clientes', colors = ['#8B0000', '#4B5563', '#6B7280', '#9CA3AF', '#D1D5DB'] }) => {\n  const total = data.reduce((sum, item) => sum + item.sales, 0);\n  let cumulativePercentage = 0;\n  const segments = data.map((item, index) => {\n    const percentage = (item.sales / total) * 100;\n    const startAngle = cumulativePercentage;\n    cumulativePercentage += percentage;\n    const endAngle = cumulativePercentage;\n\n    const largeArcFlag = percentage > 50 ? 1 : 0;\n\n    const x1 = 50 + 50 * Math.cos(2 * Math.PI * startAngle / 100);\n    const y1 = 50 + 50 * Math.sin(2 * Math.PI * startAngle / 100);\n    const x2 = 50 + 50 * Math.cos(2 * Math.PI * endAngle / 100);\n    const y2 = 50 + 50 * Math.sin(2 * Math.PI * endAngle / 100);\n\n    return {\n      path: `M 50 50 L ${x1} ${y1} A 50 50 0 ${largeArcFlag} 1 ${x2} ${y2} Z`,\n      color: colors[index % colors.length],\n      label: `${item.name || item.route} ($${item.sales})`,\n      percentage: percentage.toFixed(1)\n    };\n  });\n\n  return (\n    <div className=\"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\">\n      <h3 className=\"text-xl font-bold text-gray-800 mb-4\">{title}</h3>\n      <div className=\"flex flex-col items-center\">\n        <svg viewBox=\"0 0 100 100\" className=\"w-48 h-48\">\n          {segments.map((segment, index) => (\n            <path key={index} d={segment.path} fill={segment.color} title={segment.label} />\n          ))}\n        </svg>\n        <div className=\"mt-4 space-y-2\">\n          {segments.map((segment, index) => (\n            <div key={index} className=\"flex items-center\">\n              <span className=\"w-3 h-3 rounded-full mr-2\" style={{ backgroundColor: segment.color }}></span>\n              <span className=\"text-sm text-gray-700\">{segment.label} ({segment.percentage}%)</span>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChartPie;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}